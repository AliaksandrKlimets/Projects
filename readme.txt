В данной программе, если сообщение не может быть отправлено, то оно не становится в очередь, а просто пропадает, что я считаю неправильным.
Однако, если письмо попадает на обработку только в случае, когда метод isAllowed() возвращает true, то можно предположить, что вариант не обрабатывать письмо присутствует.
Если же надо добиться того, что письмо в любом случае попадет на обработку, т. е. когда среднее число сообщений в минуту станет меньше предельного значения, тогда можно в метод isAllowed() добавить перепроверку до тех пор, пока среднее число сообщений в минуту опять таки не упадет до удовлетворительного значения, а так как метод синхронизирован, это позволит избежать негатиных последствий.

UPD: добавил закомментированный метод, который при невозможности обработать сообщение запоминает его и пробует снова отправить его через 2 секунды.